{"version":3,"sources":["quill.tsx","index.tsx"],"names":["withStreamlitConnection","timeout","args","divRef","useRef","useEffect","Streamlit","setFrameHeight","ro","ResizeObserver","current","observe","disconnect","ref","defaultValue","formats","modules","placeholder","preserveWhitespace","readOnly","theme","onChange","content","delta","source","editor","clearTimeout","setTimeout","setComponentValue","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAuDeA,eA1CD,SAAC,GAA0B,IAGnCC,EAHWC,EAAuB,EAAvBA,KACTC,EAASC,iBAAuB,MA2BtC,OAhBAC,qBAAU,WACRC,IAAUC,iBAEV,IAAMC,EAAK,IAAIC,KAAe,WAC5BH,IAAUC,oBAOZ,OAJIJ,EAAOO,SACTF,EAAGG,QAAQR,EAAOO,SAGb,WACLF,EAAGI,iBAIA,yBAAKC,IAAKV,GACf,kBAAC,IAAD,CACEW,aAAcZ,EAAKY,aACnBC,QAASb,EAAKa,QACdC,QAASd,EAAKc,QACdC,YAAaf,EAAKe,YAClBC,mBAAoBhB,EAAKgB,mBACzBC,SAAUjB,EAAKiB,SACfC,MAAOlB,EAAKkB,MACZC,SAhCiB,SAACC,EAAiBC,EAAYC,EAAaC,GAC9DC,aAAazB,GACbA,EAAU0B,YAAW,WACnBrB,IAAUsB,kBAAkBN,KAC3B,YClBPO,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.c0d8a2c1.chunk.js","sourcesContent":["import {\n  ComponentProps,\n  Streamlit,\n  withStreamlitConnection\n} from \"streamlit-component-lib\";\nimport React, { useEffect, useRef } from \"react\"\nimport ReactQuill from \"react-quill\"\nimport ResizeObserver from \"resize-observer-polyfill\"\n\ninterface QuillProps extends ComponentProps {\n  args: any\n}\n\nconst Quill = ({ args }: QuillProps) => {\n  const divRef = useRef<HTMLDivElement>(null)\n\n  let timeout: NodeJS.Timeout\n\n  const handleChange = (content: string, delta: any, source: any, editor: any) => {\n    clearTimeout(timeout)\n    timeout = setTimeout(() => {\n      Streamlit.setComponentValue(content)\n    }, 200)\n  }\n\n  useEffect(() => {\n    Streamlit.setFrameHeight()\n\n    const ro = new ResizeObserver(() => {\n      Streamlit.setFrameHeight()\n    })\n\n    if (divRef.current) {\n      ro.observe(divRef.current)\n    }\n\n    return () => {\n      ro.disconnect()\n    }\n  })\n\n  return <div ref={divRef}>\n    <ReactQuill\n      defaultValue={args.defaultValue}\n      formats={args.formats}\n      modules={args.modules}\n      placeholder={args.placeholder}\n      preserveWhitespace={args.preserveWhitespace}\n      readOnly={args.readOnly}\n      theme={args.theme}\n      onChange={handleChange}\n    />\n  </div>\n}\n\nexport default withStreamlitConnection(Quill)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport Quill from \"./quill\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Quill />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}